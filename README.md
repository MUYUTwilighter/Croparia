# Introduction to this mod

## Licenses

This is an forked project from Dalarion's [Croparia v4.5](https://www.curseforge.com/minecraft/mc-mods/croparia), this mod page is set up to provide download sources for modpack authors and players.

Following GNU license, this project has provided a share for the original author, and this page would get closed if the original author opposes this.

## Features

Most features in Dalarion's [Croparia v4.5](https://www.curseforge.com/minecraft/mc-mods/croparia) are reserved.

**You can only choose ONE installation between Croparia and Croparia-IF**

This mod add a lot of features upon the original croparia that benefits modpack authors by offering extra customization.

Including:
- The drops of the crop block is generated by loot tables, not hard-coded.
- Auto-gen default textures and models for items & block.
- Recipes of crop seeds can be replaced by datapack. (The original project would overwrite the recipes in datapacks)
- Auto generate recipes for botany pots

# Customization

## Add custom seeds

To add custom seeds (for example, an end_stone seed), you need to create a json file in `<GameDir>/crops/<fileName>.json`, following formats below

```json
{
    "name": "end_stone",
    "tier": 3,
    "tag": "c:end_stones",
    "color": "0xE28248"
}
```
- name: name of the crop&seed, you'd better follow [Identifier Formats](https://fabricmc.net/wiki/tutorial:registry#:~:text=When%20registering%20any%20type%20of%20content%2C%20you%20pass,standard%20dirt%20block%20has%20the%20ID%20of%20minecraft%3Adirt.) but leave spacename empty.
- tier: tier of the croparia seeds to craft the seed you're defining
- tag: tag of the item the crop would grow, you may need to create your own tag by datapack in case the item you want do not have proper tags
- color: base color for items&blocks textures, this mod will automatically generate corresponding textures and you can create your own textures following tutorials below.

## Modify data files(recipes, loot tables, etc.) of a specific crop

To modify data files of this mod, simply replace the original data file by creating a new datapack.

The namespace should be "croparia".

### Seed recipe

New seed recipe should be located in path `<yourDataPackName>/data/croparia/recipes/seed_crop_<CropName>.json`

Generally, as long as the json file you create is literally valid, the recipe will be modified. This means you do not have to strictly following recipe type of the original recipe.

Below is the original recipe for aluminum seeds, details can be seen in Minecraft wiki
```json
{
    "type": "minecraft:crafting_shaped",
    "category": "misc",
    "key": {
        "P": {
            "tag": "c:aluminum_ingots"
        },
        "I": {
            "item": "minecraft:wheat_seeds"
        },
        "D": {
            "item": "croparia:croparia4"
        }
    },
    "pattern": [
        "PIP",
        "IDI",
        "PIP"
    ],
    "result": {
        "item": "croparia:seed_crop_aluminum"
    }
}
```

### Botany pot recipe

New botany pot recipe should be located in path `<yourDataPackName>/data/botanypots/recipes/croparia/seed/<CropName>.json`

An example of a acacia seeds for botany pot recipe, details can be seen in [Botany Pots](https://www.curseforge.com/minecraft/mc-mods/botany-pots)
```json
{
    "fabric:load_conditions": [
        {
            "condition": "fabric:all_mod_loaded",
            "values": [
                "botanypots"
            ]
        }
    ],
    "type": "botanypots:crop",
    "seed": {
        "item": "croparia:seed_crop_acacia"
    },
    "categories": [
        "dirt",
        "farmland"
    ],
    "growthTicks": 1200,
    "display": {
        "type": "botanypots:aging",
        "block": "croparia:block_crop_acacia"
    },
    "drops": [
        {
            "chance": 1.00,
            "output": {
                "item": "croparia:fruit_acacia"
            }
        },
        {
            "chance": 0.01,
            "output": {
                "item": "croparia:seed_crop_acacia"
            }
        }
    ]
}
```

### Loot tables

You can modify the drops of crop blocks by creating datapack and replace the original loot tables.

New loot table of a specified crop should be located in path "<yourDataPackName>/data/croparia/recipes/block_crop_<CropName>.json"

An example of acacia seed loot table, details can be seen in Minecraft wiki

```json
{
  "type": "minecraft:block",
  "pools": [
    {
      "rolls": 1,
      "entries": [
        {
          "type": "minecraft:item",
          "name": "croparia:seed_crop_acacia"
        }
      ]
    },
    {
      "rolls": 1,
      "entries": [
        {
          "type": "minecraft:item",
          "conditions": [
            {
              "block": "minecraft:wheat",
              "condition": "minecraft:block_state_property",
              "properties": {
                "age": "7"
              }
            }
          ],
          "name": "croparia:fruit_acacia"
        }
      ]
    }
  ]
}
```

### Textures & models

Following tutorials in [original project](https://www.curseforge.com/minecraft/mc-mods/croparia) is OK.